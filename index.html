<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Ticket </title>
    <!-- CSS -->
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.css">
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
        integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">

    <link rel="stylesheet" href="assets/css/style.css">
    </link>
<!-- <script src="modules/ticketservice.js"></script>-->
</head>

<body>
    <header id="header">
        <!-- Load Header content-->
    </header>
    <main class="container-fluid">
        <div id="page-content">
            <div class="page-title"></div>
            <div class="card bg-danger text-white">
                <img class="card-img" src="assets/img/index_img.jpg" alt="Card image"
                    style="width: 100%; height: 500px; ">
                <div class="card-img-overlay">
                    <div class="row">
                        <div class="col-4">

                        </div>
                        <div class="col-4">
                            <h2 class="card-title">Online BusTicket Booking</h2>
                        </div>
                    </div>
                    </br>
                    <form onsubmit="view_bus()">
                        <div class="form-row" style="margin-top: 50px;">
                            <div class="col-2">

                            </div>

                            <div class="col-2">
                                <input type="text" class="form-control" id="from" placeholder="From" required autocomplete="off">
                            </div>
                            <div class="col-2">
                                <input type="text" class="form-control" id="to" placeholder="To" required autocomplete="off">
                            </div>
                            <div class="col-2">
                                <input type="text" class="form-control datepicker" id="date" placeholder="Date" required autocomplete="off">
                            </div>
                            <div class="col-2">
                                <input type="submit" class="btn btn-light btn-block" value="Search">
                            </div>
                        </div>
                    </form>
                </div>

            </div>

        </div>
    </main>
    <script>
        $("#header").load("components/_header.html");
        $('.datepicker').datepicker({
            startDate: new Date()
        });
        function view_bus() {
            event.preventDefault();
            var from = document.getElementById("from").value;
            var to = document.getElementById("to").value;
            var date = document.getElementById("date").value;
           

            var routeObj = { "From": from, "To": to, "Date": date };
            console.log(routeObj);
            localStorage.setItem("BUSES" , JSON.stringify(routeObj));
            window.location.href = "view_buses.html";
           /* var view_busserviceObj = new view_busService();
            let result = view_busserviceObj.view_bus(routeObj);
            if (result == "success") {
                
                window.location.href = "login.html";
            }
            else {
                alert("Bo failed");
            }*/
        }
    </script>
</body>

</html>
